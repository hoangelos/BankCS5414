We implemented chain replication with simplifications to account for the idealized elements of our model.
Our implementation is based on the descriptions from lecture and from http://www.cs.cornell.edu/fbs/publications/ChainReplicOSDI.pdf .

We have a number of potentially unreliable nodes. Each node potentially hosts some number of branches. Each node can be up or down at any given time.
Each branch is associated with an ordered list of nodes, whose members are the set of all nodes that could ever host that branch, and whose order is the initial ordering among those nodes.
The system is initially brought up with all the nodes up. Each branch is represented by the chain of nodes in the initial order described above.

A given node which is up at a given time knows the configuration of all groups it participates in. That is, it knows the membership and ordering of the chains associated 

Any message which modifies the state should be processed by the head of the list. Any message which purely queries should be processed by the tail. We have the client broadcast any message for a branch to all nodes which could ever host that branch. All nodes except the one which is the correct handler for the message type, as currently determined by the configuration, discard client-originated messages.
